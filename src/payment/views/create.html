<header class="container separator" id="payment-header">
  <h1>Complete Your ${{payment.amount | number}} Donation</h1>
  <div class="pay-later">
    <button ng-click="payLater = true" ng-hide="payLater" class="button button-primary">Pay Later</button>
    <p ng-show="payLater">Okay! We'll remind you via text message.</p>
  </div>
</header>
<form name="paymentForm" class="form" bd-submit="payment.process()" novalidate>
  <div class="container">
    <div class="form-group">
      <label for="payment-email">Email</label>
      <input type="email" class="form-control" id="payment-email" ng-model="payment.email" name="email" required />
      <div ng-messages="paymentForm.email.$error" ng-if="paymentForm.email.$touched">
        <div ng-message="required" class="error">Please enter your email</div>
        <div ng-message="email" class="error">Please enter a valid email</div>
      </div>
    </div>
    <div class="form-group">
      <label for="payment-card-number">Card Number</label>
      <input cc-number type="text" pattern="[0-9]*" class="form-control" id="payment-cc-number" ng-model="payment.card.number" name="cardNumber" required />
      <div ng-messages="paymentForm.cardNumber.$error" ng-if="paymentForm.cardNumber.$touched">
        <div ng-message="required" class="error">Please enter a card number</div>
        <div ng-message="ccNumber" class="error">That card doesn't look valid</div>
      </div>
    </div>
    <div class="form-group">
      <div class="inline-controls">
        <div class="inline-control" id="payment-cc-exp" cc-exp>
          <label for="payment-card-exp-month">Expiration</label>
          <div class="inline-controls">
            <input cc-exp-month type="text" class="form-control" id="payment-cc-exp-month" ng-model="payment.card.exp_month" placeholder="MM" name="exp_month" required />
            <input cc-exp-year type="text" class="form-control" id="payment-cc-exp-year" ng-model="payment.card.exp_year" placeholder="YY" name="exp_year" required />
          </div>
        </div>
        <div class="inline-control">
          <label for="payment-card-cvc">CVC</label>
          <input cc-cvc type="text" class="form-control" id="payment-cc-cvc" ng-model="payment.card.cvc" cc-type="paymentForm.cardNumber.$type" name="cvc" required />
        </div>
      </div>
      <div ng-if="paymentForm.exp_year.$touched && (paymentForm.exp_month.$invalid || paymentForm.exp_year.$invalid)" class="error">Please enter a valid expiration</div>
      <div ng-if="paymentForm.cvc.$touched && paymentForm.cvc.$invalid" class="error">Please enter a valid CVC</div>
    </div>
    <div class="form-group">
      <label for="payment-address-street">Street Address</label>
      <input type="text" class="form-control" id="payment-address-street" ng-model="payment.address.street" name="address_street" required />
      <div ng-if="paymentForm.address_street.$touched && paymentForm.address_street.$invalid" class="error">Please enter your billing street address</div>
    </div>
    <div class="form-group">
      <label for="payment-address-street">ZIP</label>
      <input type="text" class="form-control" id="payment-address-zip" ng-model="payment.address.zip" name="address_zip" required />
      <div ng-if="paymentForm.address_zip.$touched && paymentForm.address_zip.$invalid" class="error">Please enter your ZIP code</div>
    </div>
    <div class="alert alert-danger" ng-show="paymentForm.submission.failed">
      <p><strong>There was a problem processing your payment.</strong> Please review your billing information and resubmit</p>
    </div>
  </div>
  <button type="submit" submit-button pending="Sending..." class="button button-primary button-bottom" ng-disabled="paymentForm.$invalid">Pay</button>
</form>
